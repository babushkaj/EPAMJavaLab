{"ast":null,"code":"var _jsxFileName = \"C:\\\\git\\\\laboratory\\\\news-front\\\\src\\\\component\\\\NewsContainer.jsx\";\nimport React from 'react';\nimport NewsCardShort from './NewsCardShort';\nimport NewsDataService from './NewsDataService';\nimport TagDataService from './TagDataService';\n\nclass NewsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      news: [],\n      allTags: []\n    };\n  }\n\n  componentDidMount() {\n    this.refreshNews();\n    this.refreshTags();\n  }\n\n  refreshNews() {\n    NewsDataService.getAllNews().then(response => {\n      this.setState({\n        news: response.data\n      });\n    });\n  }\n\n  refreshTags() {\n    TagDataService.getAllTags().then(response => {\n      this.setState({\n        allTags: response.data\n      });\n    });\n  }\n\n  deleteNews(id) {\n    NewsDataService.deleteNews(id).then(response => {\n      this.refreshNews();\n    });\n  }\n\n  showOneNews(id) {\n    // window.location.href = \"/news/\" + id;\n    this.props.history.push(`/news/` + id);\n  }\n\n  collectSearchDataToSearchString() {\n    const authorNameCriteriaName = \"author_name\";\n    const authorSurnameCriteriaName = \"author_surname\";\n    const tagCriteriaName = \"tags_name\";\n    let searchString = \"\";\n    let searchAuthorName = document.getElementById(\"searchAuthorNameField\").value;\n    let searchAuthorSurname = document.getElementById(\"searchAuthorSurnameField\").value;\n    let selectTagFieldValue = document.getElementById(\"tagsSelectField\").childNodes;\n    let tagsSearchCriteria = \"\";\n\n    if (selectTagFieldValue) {}\n\n    for (var i = 0; i < selectTagFieldValue.length; i++) {\n      if (selectTagFieldValue[i].selected) {}\n    }\n\n    return searchString;\n  }\n\n  render() {\n    const renderAllTagsList = this.state.allTags.map(t => {\n      return React.createElement(\"option\", {\n        value: t.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, t.name);\n    });\n    const renderNewsCards = this.state.news.map(n => {\n      return React.createElement(NewsCardShort, {\n        newsId: n.id,\n        newsTitle: n.title,\n        newsST: n.shortText,\n        newsCrDate: n.creationDate,\n        newsAuthor: n.author,\n        newsTags: n.tags,\n        deleteClick: () => this.deleteNews(n.id),\n        readClick: () => this.showOneNews(n.id),\n        toNewsListClick: () => this.showNewsList(),\n        deleteClick: () => this.deleteNews(n.id),\n        t: this.props.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group mb-3 w-100 my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"searchAuthorNameField\",\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.props.t(\"new_author_name\"),\n      \"aria-describedby\": \"button-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"searchAuthorSurnameField\",\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: this.props.t(\"new_author_surname\"),\n      \"aria-describedby\": \"button-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(\"select\", {\n      multiple: true,\n      id: \"tagsSelectField\",\n      className: \"form-control\",\n      size: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, renderAllTagsList)), React.createElement(\"div\", {\n      className: \"col-2 align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-primary btn-block\",\n      type: \"button\",\n      id: \"buttonSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, this.props.t(\"search\"))))), renderNewsCards), React.createElement(\"div\", {\n      className: \"col-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default NewsContainer;","map":{"version":3,"sources":["C:/git/laboratory/news-front/src/component/NewsContainer.jsx"],"names":["React","NewsCardShort","NewsDataService","TagDataService","NewsContainer","Component","constructor","props","state","news","allTags","componentDidMount","refreshNews","refreshTags","getAllNews","then","response","setState","data","getAllTags","deleteNews","id","showOneNews","history","push","collectSearchDataToSearchString","authorNameCriteriaName","authorSurnameCriteriaName","tagCriteriaName","searchString","searchAuthorName","document","getElementById","value","searchAuthorSurname","selectTagFieldValue","childNodes","tagsSearchCriteria","i","length","selected","render","renderAllTagsList","map","t","name","renderNewsCards","n","title","shortText","creationDate","author","tags","showNewsList"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NewsCardShort from './NewsCardShort'\r\nimport NewsDataService from './NewsDataService'\r\nimport TagDataService from './TagDataService'\r\n \r\nclass NewsContainer extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            news: [],\r\n            allTags: [],\r\n\t\t}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshNews();\r\n        this.refreshTags();\r\n    }\r\n\r\n    refreshNews() {\r\n        NewsDataService.getAllNews()\r\n        .then(\r\n            response => {\r\n                this.setState({news: response.data});\r\n            }\r\n        )\r\n    }\r\n\r\n    refreshTags(){\r\n        TagDataService.getAllTags()\r\n        .then(\r\n            response => {\r\n                this.setState({allTags: response.data});\r\n            }\r\n        )\r\n    }\r\n\r\n    deleteNews(id) {\r\n        NewsDataService.deleteNews(id)\r\n        .then(\r\n            response => {\r\n                this.refreshNews();\r\n            }\r\n        )\r\n    }\r\n\r\n    showOneNews(id) {\r\n        // window.location.href = \"/news/\" + id;\r\n        this.props.history.push(`/news/` + id);\r\n    }  \r\n\r\n    collectSearchDataToSearchString(){\r\n        const authorNameCriteriaName = \"author_name\";\r\n        const authorSurnameCriteriaName = \"author_surname\";\r\n        const tagCriteriaName = \"tags_name\";\r\n        let searchString = \"\";\r\n\r\n        let searchAuthorName = document.getElementById(\"searchAuthorNameField\").value;\r\n        let searchAuthorSurname = document.getElementById(\"searchAuthorSurnameField\").value;\r\n\r\n        let selectTagFieldValue = document.getElementById(\"tagsSelectField\").childNodes; \r\n\r\n        let tagsSearchCriteria = \"\";\r\n        if(selectTagFieldValue){\r\n\r\n        }\r\n        for(var i=0; i<selectTagFieldValue.length; i++){\r\n            if(selectTagFieldValue[i].selected){\r\n\r\n            }\r\n        }\r\n\r\n        return searchString;\r\n    }\r\n\r\n    render() {\r\n\r\n        const renderAllTagsList = this.state.allTags.map(t => {\r\n            return(\r\n                <option value={t.id}>{t.name}</option>\r\n            )\r\n        })\r\n\r\n        const renderNewsCards = this.state.news.map(n => {\r\n            return(\r\n                <NewsCardShort\r\n                newsId={n.id}\r\n                newsTitle={n.title} \r\n                newsST={n.shortText} \r\n                newsCrDate={n.creationDate} \r\n                newsAuthor={n.author}                \r\n                newsTags={n.tags}\r\n                deleteClick={() => this.deleteNews(n.id)}\r\n                readClick={() => this.showOneNews(n.id)}\r\n                toNewsListClick={() => this.showNewsList()}\r\n                deleteClick={() => this.deleteNews(n.id)}\r\n                t = {this.props.t}\r\n                />\r\n            )\r\n        })  \r\n     \r\n\t\treturn(\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-1\"></div>\r\n                        <div className=\"col-10\">\r\n                            <div className=\"container\">\r\n\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-10\">\r\n                                        <div className=\"input-group mb-3 w-100 my-3\">\r\n                                            <input id=\"searchAuthorNameField\" type=\"text\" className=\"form-control\" placeholder={this.props.t(\"new_author_name\")} aria-describedby=\"button-addon2\"/>\r\n                                            <input id=\"searchAuthorSurnameField\" type=\"text\" className=\"form-control\" placeholder={this.props.t(\"new_author_surname\")} aria-describedby=\"button-addon2\"/>\r\n                                        </div>\r\n                                        <select multiple id=\"tagsSelectField\" className=\"form-control\" size=\"2\">\r\n                                            {renderAllTagsList}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"col-2 align-self-center\">\r\n                                        <button className=\"btn btn-outline-primary btn-block\" type=\"button\" id=\"buttonSearch\">{this.props.t(\"search\")}</button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            {renderNewsCards}\r\n                        </div>\r\n                        <div className=\"col-1\"></div>\r\n                    </div>\r\n                </div>\r\n              \r\n            </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NewsContainer"]},"metadata":{},"sourceType":"module"}